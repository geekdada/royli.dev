@import 'tailwindcss';

@plugin '@tailwindcss/typography';

@custom-variant dark (&:is(.dark *));

@theme {
  --color-light-50: #fdfdfd;
  --color-light-100: #fcfcfc;
  --color-light-200: #fafafa;
  --color-light-300: #f8f9fa;
  --color-light-400: #f6f6f6;
  --color-light-500: #f2f2f2;
  --color-light-600: #f1f3f5;
  --color-light-700: #e9ecef;
  --color-light-800: #dee2e6;
  --color-light-900: #dde1e3;

  --color-dark-50: #4a4a4a;
  --color-dark-100: #3c3c3c;
  --color-dark-200: #323232;
  --color-dark-300: #2d2d2d;
  --color-dark-400: #222222;
  --color-dark-500: #1f1f1f;
  --color-dark-600: #1c1c1e;
  --color-dark-700: #1b1b1b;
  --color-dark-800: #181818;
  --color-dark-900: #0f0f0f;

  --font-sans:
    ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol', 'Noto Color Emoji';
  --font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif;
  --font-mono:
    var(--font-geist-mono), ui-monospace, SFMono-Regular, Menlo, Monaco,
    Consolas, 'Liberation Mono', 'Courier New', monospace;
  --font-title:
    Inter, ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

.hover-links {
  @apply border-b border-b-dark-200/30 no-underline transition-all duration-150 hover:border-b-dark-200/60 dark:border-b-light-900/50 dark:hover:border-b-light-900/80;
}

/* Linear-style badge */
.linear-badge {
  @apply inline-flex items-center rounded-full border border-gray-200/60 bg-white/60 px-3 py-1.5 text-sm font-medium text-gray-700 backdrop-blur-sm transition-all duration-200 hover:border-gray-300 hover:bg-white dark:border-white/10 dark:bg-white/5 dark:text-gray-300 dark:hover:border-white/20 dark:hover:bg-white/10;
}

.nav-links {
  @apply cursor-pointer rounded-lg border-none px-3 py-2 text-sm transition-all duration-200 font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-white;
}

.heading-text {
  @apply text-dark-900 dark:text-light-900;
}

.primary-text {
  @apply text-dark-900/80 dark:text-light-900/80;
}

.secondary-text {
  @apply text-dark-900/60 dark:text-light-900/60;
}

.tertiary-text {
  @apply text-dark-900/40 dark:text-light-900/40;
}

.post-section {
  @apply overflow-hidden md:rounded-sm border-t border-b md:border border-gray-400/30 bg-white dark:bg-dark-700;
}

.code-block {
  @apply relative w-full my-2;
}

.code-block pre,
.code-block code {
  @apply font-mono;
}

.code-block > .notion-code {
  @apply static p-4 lg:p-6 my-0;
}

.post-cover-image {
  @apply relative;

  padding-bottom: 56%;
  min-height: 120px;
}

.post-cover-image > div {
  @apply absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-size: cover;
  background-position: center;
}

button {
  @apply focus:outline-hidden! focus-visible:outline-hidden!;
}

* {
  @apply box-border;
}

*::selection {
  @apply bg-gray-200 dark:bg-gray-700;
}

html.light {
  color-scheme: light;
}

html.dark {
  color-scheme: dark;
}

body {
  background-color: #fafafa;
}

.dark body {
  background-color: #0a0a0b;
}

.component-icon > * {
  @apply w-full h-full;
}

/* rehype-pretty-code styles */
[data-rehype-pretty-code-figure] {
  @apply my-4 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700/50;
}

/* Dual theme support - switch colors based on color scheme */
code[data-theme*=' '],
code[data-theme*=' '] span {
  color: var(--shiki-light);
  background-color: var(--shiki-light-bg);
}

html.dark code[data-theme*=' '],
html.dark code[data-theme*=' '] span {
  color: var(--shiki-dark);
  background-color: var(--shiki-dark-bg);
}

/* Language label */
[data-rehype-pretty-code-figure] .code-language-label {
  @apply px-4 py-2 text-xs font-mono font-medium uppercase tracking-wider text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-800/30;
}

[data-rehype-pretty-code-figure] pre {
  @apply rounded-none text-sm leading-relaxed overflow-x-auto m-0 bg-[unset] text-[unset] transition-colors duration-200;
}

[data-rehype-pretty-code-figure] code {
  @apply font-mono grid py-1 xl:py-2 transition-colors duration-200;
}

[data-rehype-pretty-code-figure] [data-line] {
  @apply px-1 xl:px-2 transition-colors duration-200;
}

[data-rehype-pretty-code-figure] [data-highlighted-line] {
  @apply bg-white/10 border-l-2 border-l-blue-400;
}

[data-rehype-pretty-code-figure] [data-highlighted-chars] {
  @apply bg-amber-500/20 rounded px-1;
}

/* Inline code */
.prose :not(pre) > code {
  @apply px-1.5 py-0.5 rounded bg-gray-200 dark:bg-dark-300 text-sm font-mono;
}
